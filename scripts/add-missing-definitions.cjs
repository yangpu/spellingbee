const fs = require('fs');
const path = require('path');

// 缺少中文释义的单词及其专业释义
const definitions = {
  "sale": "出售；销售；特价",
  "smile": "微笑；笑容",
  "ring": "戒指；环；铃声；打电话",
  "seal": "海豹；印章；密封",
  "remain": "保持；剩余；留下",
  "central": "中心的；中央的；主要的",
  "ignore": "忽视；不理睬",
  "solid": "固体的；坚固的；可靠的",
  "feeling": "感觉；情感；知觉",
  "chatroom": "聊天室",
  "artist": "艺术家；画家",
  "shoulder": "肩膀；肩部",
  "relief": "宽慰；救济；缓解",
  "involve": "涉及；包含；使参与",
  "toward": "朝向；向；对于",
  "police": "警察；警方",
  "expect": "期待；预期；指望",
  "factor": "因素；要素",
  "desert": "沙漠；遗弃；抛弃",
  "relate": "联系；叙述；有关联",
  "power": "力量；权力；电力",
  "merely": "仅仅；只不过",
  "nearly": "几乎；差不多",
  "beyond": "超出；在...之外",
  "center": "中心；中央",
  "require": "需要；要求",
  "support": "支持；支撑；资助",
  "unit": "单位；单元；部件",
  "studio": "工作室；演播室；画室",
  "progress": "进步；进展；前进",
  "monthly": "每月的；月刊",
  "degree": "程度；度数；学位",
  "pattern": "模式；图案；样式",
  "stomach": "胃；肚子；腹部",
  "better": "更好的；较好的",
  "foreign": "外国的；外来的",
  "structure": "结构；构造；建筑物",
  "former": "以前的；前任的",
  "cancer": "癌症；巨蟹座",
  "compare": "比较；对比",
  "building": "建筑物；大楼",
  "escape": "逃跑；逃脱；逃避",
  "election": "选举；选择",
  "predict": "预测；预言",
  "parent": "父母；家长",
  "intend": "打算；意图",
  "kitchen": "厨房",
  "offer": "提供；提议；出价",
  "district": "地区；区域；行政区",
  "research": "研究；调查",
  "novel": "小说；新颖的",
  "disease": "疾病；病症",
  "commit": "犯（罪）；承诺；投入",
  "mission": "任务；使命；代表团",
  "mention": "提到；提及",
  "within": "在...之内；不超过",
  "extent": "程度；范围；广度",
  "account": "账户；账目；描述",
  "culture": "文化；培养",
  "southern": "南方的；南部的",
  "response": "回应；反应；答复",
  "describe": "描述；形容",
  "contain": "包含；容纳；控制",
  "weapon": "武器；兵器",
  "language": "语言",
  "media": "媒体；媒介",
  "although": "虽然；尽管",
  "appear": "出现；显得；似乎",
  "college": "大学；学院",
  "driver": "司机；驾驶员",
  "weekly": "每周的；周刊",
  "dollar": "美元；元",
  "training": "训练；培训",
  "review": "复习；评论；审查",
  "maintain": "维持；保养；坚持",
  "paper": "纸；论文；报纸",
  "manner": "方式；态度；礼貌",
  "control": "控制；管理；支配",
  "permit": "允许；许可证",
  "decide": "决定；判决",
  "select": "选择；挑选；精选的",
  "effort": "努力；尝试",
  "increase": "增加；增长",
  "labor": "劳动；劳工；分娩",
  "action": "行动；动作；作用",
  "pleasure": "快乐；乐趣；荣幸",
  "certain": "确定的；某些",
  "village": "村庄；乡村",
  "quarter": "四分之一；季度；一刻钟",
  "member": "成员；会员",
  "receive": "收到；接受；接待",
  "prison": "监狱；牢房",
  "critic": "批评家；评论家",
  "success": "成功；成就",
  "farmer": "农民；农场主",
  "process": "过程；进程；加工",
  "session": "会议；一段时间",
  "prevent": "阻止；预防",
  "penny": "便士；一分钱",
  "nature": "自然；本性；性质",
  "senior": "年长的；高级的；前辈",
  "purchase": "购买；采购",
  "golden": "金色的；金制的；珍贵的",
  "apartment": "公寓；套房",
  "planet": "行星；星球",
  "create": "创造；创作；产生",
  "pressure": "压力；压强",
  "product": "产品；产物",
  "couple": "夫妻；一对；几个",
  "express": "表达；快递；特快的",
  "twenty": "二十",
  "senate": "参议院；议会",
  "available": "可用的；有空的",
  "resource": "资源；财力",
  "option": "选择；选项",
  "accept": "接受；承认",
  "strawberry": "草莓",
  "stable": "稳定的；马厩",
  "outline": "轮廓；大纲；概述",
  "tutor": "家教；导师；辅导",
  "overseas": "海外的；国外",
  "puppy": "小狗；幼犬",
  "snowy": "多雪的；雪白的",
  "castle": "城堡；堡垒",
  "bacon": "培根；熏猪肉",
  "grocery": "杂货店；食品杂货",
  "hanger": "衣架；挂钩",
  "railway": "铁路；铁道",
  "windy": "多风的；刮风的",
  "puzzle": "谜题；拼图；困惑",
  "borrow": "借；借入",
  "metro": "地铁",
  "laughter": "笑声；笑",
  "shorten": "缩短；变短",
  "pollute": "污染；玷污",
  "cookie": "饼干；曲奇",
  "medic": "医务人员；医生",
  "lemon": "柠檬",
  "salon": "沙龙；美容院",
  "thicken": "变厚；加厚",
  "channel": "频道；渠道；海峡",
  "dragon": "龙",
  "lettuce": "生菜；莴苣",
  "tennis": "网球",
  "tractor": "拖拉机"
};

// 读取词库
const filePath = path.join(__dirname, '../public/words/grade3-400.json');
const words = JSON.parse(fs.readFileSync(filePath, 'utf-8'));

let updatedCount = 0;

// 更新缺少中文释义的单词
words.forEach(word => {
  if (!word.definition_cn) {
    const def = definitions[word.word];
    if (def) {
      word.definition_cn = def;
      updatedCount++;
      console.log(`✓ ${word.word}: ${def}`);
    } else {
      console.log(`✗ 未找到释义: ${word.word}`);
    }
  }
});

// 写回文件
fs.writeFileSync(filePath, JSON.stringify(words, null, 2), 'utf-8');

console.log(`\n完成！共更新 ${updatedCount} 个单词的中文释义`);
